import{_ as A}from"./nuxt-link.c2a05b85.js";import{f as M,o as R,s as $,w as h,M as U,I as j,r as k,A as w,C as W,D as H,H as G,J as T,K as q,Z as J,g as S,c as D,b,a as f,T as Q,d as N,_ as Z}from"./entry.99aaa9d1.js";import{m as X,F as Y,w as ee,b as te,o as x,c as ae,u as ne,l as C,H as O,t as L,e as oe,p as le,N as F,g as re,i as se,x as ie,a as I,j as g,v as ue,k as B,_ as K,O as ce,h as de,G as pe,U as fe,S as me}from"./use-text-value.9a7674bb.js";import{e as ve,_ as _e}from"./index.e4893fd9.js";import{_ as be}from"./_plugin-vue_export-helper.c27b6911.js";const he=M({__name:"TheNavbarLink",props:{to:{}},setup(a){return(i,u)=>{const m=A;return R(),$(m,{to:i.to,class:"block hover:text-primary-100","aria-current-value":"page","active-class":"text-primary-500 hover:text-black-700 hover:text-primary-100"},{default:h(()=>[U(i.$slots,"default")]),_:3},8,["to"])}}});function ge({container:a,accept:i,walk:u,enabled:m}){j(()=>{let e=a.value;if(!e||m!==void 0&&!m.value)return;let c=X(a);if(!c)return;let l=Object.assign(r=>i(r),{acceptNode:i}),v=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;v.nextNode();)u(v.currentNode)})}var xe=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(xe||{}),ye=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ye||{});function ke(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let V=Symbol("MenuContext");function E(a){let i=q(V,null);if(i===null){let u=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,E),u}return i}let Ie=M({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:i,attrs:u}){let m=k(1),e=k(null),c=k(null),l=k([]),v=k(""),r=k(null),s=k(1);function t(o=p=>p){let p=r.value!==null?l.value[r.value]:null,d=ce(o(l.value.slice()),y=>x(y.dataRef.domRef)),n=p?d.indexOf(p):null;return n===-1&&(n=null),{items:d,activeItemIndex:n}}let _={menuState:m,buttonRef:e,itemsRef:c,items:l,searchQuery:v,activeItemIndex:r,activationTrigger:s,closeMenu:()=>{m.value=1,r.value=null},openMenu:()=>m.value=0,goToItem(o,p,d){let n=t(),y=ie(o===I.Specific?{focus:I.Specific,id:p}:{focus:o},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:P=>P.id,resolveDisabled:P=>P.dataRef.disabled});v.value="",r.value=y,s.value=d??1,l.value=n.items},search(o){let p=v.value!==""?0:1;v.value+=o.toLowerCase();let d=(r.value!==null?l.value.slice(r.value+p).concat(l.value.slice(0,r.value+p)):l.value).find(y=>y.dataRef.textValue.startsWith(v.value)&&!y.dataRef.disabled),n=d?l.value.indexOf(d):-1;n===-1||n===r.value||(r.value=n,s.value=1)},clearSearch(){v.value=""},registerItem(o,p){let d=t(n=>[...n,{id:o,dataRef:p}]);l.value=d.items,r.value=d.activeItemIndex,s.value=1},unregisterItem(o){let p=t(d=>{let n=d.findIndex(y=>y.id===o);return n!==-1&&d.splice(n,1),d});l.value=p.items,r.value=p.activeItemIndex,s.value=1}};return Y([e,c],(o,p)=>{var d;_.closeMenu(),ee(p,te.Loose)||(o.preventDefault(),(d=x(e))==null||d.focus())},w(()=>m.value===0)),W(V,_),ae(w(()=>ne(m.value,{[0]:C.Open,[1]:C.Closed}))),()=>{let o={open:m.value===0,close:_.closeMenu};return O({ourProps:{},theirProps:a,slot:o,slots:i,attrs:u,name:"Menu"})}}}),we=M({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${L()}`}},setup(a,{attrs:i,slots:u,expose:m}){let e=E("MenuButton");m({el:e.buttonRef,$el:e.buttonRef});function c(s){switch(s.key){case g.Space:case g.Enter:case g.ArrowDown:s.preventDefault(),s.stopPropagation(),e.openMenu(),T(()=>{var t;(t=x(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case g.ArrowUp:s.preventDefault(),s.stopPropagation(),e.openMenu(),T(()=>{var t;(t=x(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function l(s){switch(s.key){case g.Space:s.preventDefault();break}}function v(s){a.disabled||(e.menuState.value===0?(e.closeMenu(),T(()=>{var t;return(t=x(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(s.preventDefault(),e.openMenu(),ke(()=>{var t;return(t=x(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let r=oe(w(()=>({as:a.as,type:i.type})),e.buttonRef);return()=>{var s;let t={open:e.menuState.value===0},{id:_,...o}=a,p={ref:e.buttonRef,id:_,type:r.value,"aria-haspopup":"menu","aria-controls":(s=x(e.itemsRef))==null?void 0:s.id,"aria-expanded":a.disabled?void 0:e.menuState.value===0,onKeydown:c,onKeyup:l,onClick:v};return O({ourProps:p,theirProps:o,slot:t,attrs:i,slots:u,name:"MenuButton"})}}}),Me=M({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${L()}`}},setup(a,{attrs:i,slots:u,expose:m}){let e=E("MenuItems"),c=k(null);m({el:e.itemsRef,$el:e.itemsRef}),ge({container:w(()=>x(e.itemsRef)),enabled:w(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function l(t){var _;switch(c.value&&clearTimeout(c.value),t.key){case g.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case g.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let o=e.items.value[e.activeItemIndex.value];(_=x(o.dataRef.domRef))==null||_.click()}e.closeMenu(),K(x(e.buttonRef));break;case g.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case g.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case g.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),T(()=>{var o;return(o=x(e.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case g.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),T(()=>ue(x(e.buttonRef),t.shiftKey?B.Previous:B.Next));break;default:t.key.length===1&&(e.search(t.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}function v(t){switch(t.key){case g.Space:t.preventDefault();break}}let r=le(),s=w(()=>r!==null?(r.value&C.Open)===C.Open:e.menuState.value===0);return()=>{var t,_;let o={open:e.menuState.value===0},{id:p,...d}=a,n={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(_=x(e.buttonRef))==null?void 0:_.id,id:p,onKeydown:l,onKeyup:v,role:"menu",tabIndex:0,ref:e.itemsRef};return O({ourProps:n,theirProps:d,slot:o,attrs:i,slots:u,features:F.RenderStrategy|F.Static,visible:s.value,name:"MenuItems"})}}}),Se=M({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${L()}`}},setup(a,{slots:i,attrs:u,expose:m}){let e=E("MenuItem"),c=k(null);m({el:c,$el:c});let l=w(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===a.id:!1),v=re(c),r=w(()=>({disabled:a.disabled,get textValue(){return v()},domRef:c}));H(()=>e.registerItem(a.id,r)),G(()=>e.unregisterItem(a.id)),j(()=>{e.menuState.value===0&&l.value&&e.activationTrigger.value!==0&&T(()=>{var n,y;return(y=(n=x(c))==null?void 0:n.scrollIntoView)==null?void 0:y.call(n,{block:"nearest"})})});function s(n){if(a.disabled)return n.preventDefault();e.closeMenu(),K(x(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,a.id)}let _=se();function o(n){_.update(n)}function p(n){_.wasMoved(n)&&(a.disabled||l.value||e.goToItem(I.Specific,a.id,0))}function d(n){_.wasMoved(n)&&(a.disabled||l.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:n}=a,y={active:l.value,disabled:n,close:e.closeMenu},{id:P,...z}=a;return O({ourProps:{id:P,ref:c,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:s,onFocus:t,onPointerenter:o,onMouseenter:o,onPointermove:p,onMousemove:p,onPointerleave:d,onMouseleave:d},theirProps:{...u,...z},slot:y,attrs:u,slots:i,name:"MenuItem"})}}});const Te={key:0,href:"/api/auth/discord",external:!0,class:"mr-3 rounded-lg bg-primary-500 px-4 py-2 text-center text-sm font-medium text-black-700 hover:bg-primary-100 focus:outline-none focus:ring-4 focus:ring-primary-700 md:mr-0"},Re=["src"],Pe={class:"px-1 py-1"},Ne="https://cdn.discordapp.com/",Ce=M({__name:"TheNavbarUserWidget",setup(a){const{loggedIn:i,user:u,logout:m}=J();return(e,c)=>{const l=we,v=A,r=Se,s=Me,t=Ie;return S(i)?(R(),$(t,{key:1,as:"div",class:"relative inline-block text-left"},{default:h(()=>[b(l,{class:"block h-12 w-12 cursor-pointer overflow-hidden rounded-full focus:ring-2 focus:ring-primary-100"},{default:h(()=>{var _,o;return[f("img",{src:`${Ne}avatars/${(_=S(u))==null?void 0:_.discordId}/${(o=S(u))==null?void 0:o.avatar}.png`,alt:"User Discord Avatar"},null,8,Re)]}),_:1}),b(Q,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:h(()=>[b(s,{class:"divide-gray-100 bg-white ring-black absolute right-0 mt-2 w-56 origin-top-right divide-y rounded-md shadow-lg ring-1 ring-opacity-5 focus:outline-none"},{default:h(()=>[f("div",Pe,[b(r,null,{default:h(()=>[b(v,{to:"/profile",class:"block rounded py-2 pl-3 pr-4 text-black-100 hover:text-primary-100","aria-current-value":"page"},{default:h(()=>[N(" Profile ")]),_:1})]),_:1}),b(r,null,{default:h(()=>[f("button",{class:"hover:bg-error-300 mt-2 w-full cursor-pointer rounded bg-error-500 py-2 pl-3 pr-4 text-black-100",onClick:c[0]||(c[0]=_=>S(m)())}," Logout ")]),_:1})])]),_:1})]),_:1})]),_:1})):(R(),D("a",Te," Login with Discord "))}}}),De=M({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(a,{slots:i,attrs:u}){const m=k(!1);return H(()=>{m.value=!0}),e=>{var r;if(m.value)return(r=i.default)==null?void 0:r.call(i);const c=i.fallback||i.placeholder;if(c)return c();const l=e.fallback||e.placeholder||"",v=e.fallbackTag||e.placeholderTag||"span";return D(v,u,l)}}}),Oe={class:"z-10"},Ee={class:"relative mx-auto flex h-24 max-w-screen-xl flex-wrap items-center justify-between p-4"},Ae=f("span",{class:"self-center whitespace-nowrap text-2xl font-semibold text-primary-500"},"GCSim",-1),$e={class:"hidden items-center gap-8 border-black-700 p-0 font-medium md:flex"},Le=["aria-expanded"],Fe=f("span",{class:"sr-only"},"Open navigation menu",-1),Be=f("svg",{class:"h-6 w-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),Ue=[Fe,Be],je=f("div",{class:"fixed inset-0 bg-black-500 bg-opacity-75 transition-opacity"},null,-1),He={class:"fixed inset-0 overflow-hidden"},Ke={class:"absolute inset-0 overflow-hidden"},Ve={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},ze={class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},We=f("span",{class:"sr-only"},"Close panel",-1),Ge={class:"flex h-full flex-col overflow-y-auto bg-black-500 py-6 shadow-xl"},qe={class:"relative mt-6 flex-1 px-4 sm:px-6"},Je={class:"items-center gap-8 space-y-4 border-black-700 p-0 font-medium"},Qe=M({__name:"TheNavbar",setup(a){const i=k(!1),u=k(!1);return(m,e)=>{const c=A,l=he,v=Ce,r=De,s=de,t=_e,_=pe,o=fe,p=me;return R(),D("nav",Oe,[f("div",Ee,[b(c,{to:"/",class:"flex items-center"},{default:h(()=>[Ae]),_:1}),f("ul",$e,[f("li",null,[b(l,{to:"/simulator"},{default:h(()=>[N(" Simulator ")]),_:1})]),f("li",null,[b(l,{to:"/characters"},{default:h(()=>[N(" Characters ")]),_:1})]),f("li",null,[b(r,null,{default:h(()=>[b(v)]),_:1})])]),f("button",{type:"button",class:"ml-3 inline-flex items-center rounded-lg p-2 text-sm text-black-100 hover:bg-black-600 focus:outline-none focus:ring-2 focus:ring-primary-100 md:hidden","aria-controls":"navbar-default","aria-expanded":S(i),onClick:e[0]||(e[0]=d=>u.value=!0)},Ue,8,Le)]),(R(),$(Z,{to:"body"},[b(p,{as:"template",show:S(u)},{default:h(()=>[b(o,{as:"div",class:"relative z-10",onClose:e[2]||(e[2]=d=>u.value=!1)},{default:h(()=>[b(s,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[je]),_:1}),f("div",He,[f("div",Ke,[f("div",Ve,[b(s,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:h(()=>[b(_,{class:"pointer-events-auto relative w-screen max-w-md"},{default:h(()=>[b(s,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[f("div",ze,[f("button",{type:"button",class:"text-gray-300 hover:text-white focus:ring-white rounded-md focus:outline-none focus:ring-2",onClick:e[1]||(e[1]=d=>u.value=!1)},[We,b(t,{icon:S(ve),class:"grid h-6 w-6 place-items-center","aria-hidden":"true"},null,8,["icon"])])])]),_:1}),f("div",Ge,[f("div",qe,[f("ul",Je,[f("li",null,[b(l,{to:"/simulator"},{default:h(()=>[N(" Simulator ")]),_:1})]),f("li",null,[b(l,{to:"/characters"},{default:h(()=>[N(" Characters ")]),_:1})])])])])]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])]))])}}}),Ze={},Xe={class:"mx-auto grid min-h-screen max-w-screen-xl grid-rows-[auto,1fr]"};function Ye(a,i){const u=Qe;return R(),D("div",Xe,[b(u),U(a.$slots,"default")])}const lt=be(Ze,[["render",Ye]]);export{lt as default};
