import{f as g,o as r,c as i,a as e,F as b,j as y,y as S,t as h,z as T,n as N,g as s,s as $,b as m,A as O,B as x,T as V,r as R,w as L,d as B,k as P}from"./entry.677c5567.js";import{f as M,a as H,b as I,c as Q,d as D,_ as G}from"./CharactersList.vue.f120fbf9.js";import{u as q}from"./GenshinIcon.vue.9191d470.js";import{o as J,u as K,b as W}from"./index.855b9dd6.js";import{_ as j}from"./_plugin-vue_export-helper.c27b6911.js";const X={class:"text-sm font-medium text-center text-black-100"},Y=["disabled","onClick"],z=g({__name:"BaseTabs",props:{buttons:{},column:{type:Boolean}},setup(p){const t=p,c=l=>{for(const _ of t.buttons)_.state!=="disabled"&&(_.state="inactive");l.state="active"};return(l,_)=>(r(),i("nav",X,[e("ul",{class:S(["flex flex-wrap gap-4",{"flex-col":l.column,"text-start":l.column}])},[(r(!0),i(b,null,y(l.buttons,o=>(r(),i("li",{key:o.title},[e("button",{disabled:o.state==="active"||o.state==="disabled",class:S(["base-tab",{"active-tab":o.state==="active","inactive-tab":o.state==="inactive","disabled-tab":o.state==="disabled"}]),onClick:()=>c(o)},h(o.title),11,Y)]))),128))],2)]))}});const A=()=>{const p="en",t=T("simulator-state",()=>[null,null,null,null]),c=T("simulator-selected-entry",()=>null);return{state:t,config:()=>U(t.value),createEntry:async(o,a="albedo")=>{const{data:{value:n}}=await q(`/api/data/characters/${a}`,"$v4XtY6OBWO");if(!n)throw N("Couldn't find character on db");const d=n.baseStats.lvls.length-1;t.value[o]={ui:{selectedArtifact:null},character:{name:n.name[p],slug:a,simName:n.simName,substat:n.substat[p],rarity:n.rarity,lvl:n.baseStats.lvls[d],cons:n.rarity===4?6:0,c1:9,c2:9,c3:9,portraitImg:n.images.portrait.src},weapon:{name:"favoniussword",lvl:"90/90",refine:1},artifactsSets:[],artifacts:[null,null,null,null,null],stats:{hp:n.baseStats.hp[d],atk:n.baseStats.atk[d],def:n.baseStats.def[d],critRate:n.baseStats.critRate[d],critDmg:n.baseStats.critDmg[d],substat:n.baseStats.substat[d]}}},setCharacter:async o=>{if(console.log(c.value,"SET CHARACTER"),c.value===null)return;const{data:{value:a}}=await q(`/api/data/characters/${o}`,"$u13AvHtQxi");if(console.log("setCharacter",a),!a)throw N("Couldn't find character on db");const n=a.baseStats.lvls.length-1,d=t.value[c.value];t.value[c.value]={ui:{selectedArtifact:null},character:{name:a.name[p],slug:o,simName:a.simName,substat:a.substat[p],rarity:a.rarity,lvl:d.character.lvl||a.baseStats.lvls[n],cons:a.rarity===4?6:0,c1:d.character.c1,c2:d.character.c2,c3:d.character.c3,portraitImg:a.images.portrait.src},weapon:{name:"favoniussword",lvl:d.weapon.lvl,refine:1},artifactsSets:[],artifacts:[null,null,null,null,null],stats:{hp:a.baseStats.hp[n],atk:a.baseStats.atk[n],def:a.baseStats.def[n],critRate:a.baseStats.critRate[n],critDmg:a.baseStats.critDmg[n],substat:a.baseStats.substat[n]}}},active:c}},U=p=>{const t=p[0],c=()=>t.artifacts.map(a=>a?`${a.mainStat}=${a.mainStatValue} `:""),l=()=>t.artifactsSets.map(a=>`${t.character.name} add set="${a.name}" count=${a.count};`),_=()=>"def%=0.124 def=39.36 hp=507.88 hp%=0.0992 atk=33.08 atk%=0.1984 er=0.1102 em=39.64 cr=0.3972 cd=0.662";return`
${t.character.name} char lvl=${t.character.lvl} cons=${t.character.cons} talent=${t.character.c1},${t.character.c2},${t.character.c3}; 
${t.character.name} add weapon="${t.weapon.name}" refine=${t.weapon.refine} lvl=${t.weapon.lvl};
${l().join(`
`)}
${t.character.name} add stats ${c().join(" ")};
${t.character.name} add stats ${_()};
`},Z={class:"grid grid-cols-4 gap-2 sm:gap-4"},tt=["onClick"],et={class:"flex justify-center lg:justify-between base-background-gradient w-full lg:px-3"},at=["src"],st={class:"grid justify-around"},ct={class:"hidden lg:flex gap-1 text-primary-500 items-center justify-end"},nt={class:"hidden lg:flex justify-end items-center gap-2"},rt={class:"font-medium py-1 bg-black-600 text-xs lg:text-sm lg:px-3 w-full flex gap-4 items-center justify-center lg:justify-between"},lt={class:"text-black-100"},ot={class:"hidden lg:block text-primary-500"},it={key:1,class:"py-3 w-full grid place-items-center"},dt={class:"text-black-100 w-full aspect-square xs:w-24 grid place-items-center"},ut=g({__name:"SimulatorCharactersPreviewButton",setup(p){const{state:t,createEntry:c,active:l}=A(),_=o=>{l.value=o,t.value[o]||c(o)};return(o,a)=>{const n=I;return r(),i("div",Z,[(r(!0),i(b,null,y(s(t),(d,u)=>{var f,v,w,C;return r(),i("div",{key:u,class:"grow"},[e("button",{class:S(["relative grid place-items-center items-center h-full w-full base-background-gradient",{"outline outline-2 outline-primary-500":s(l)===u}]),onClick:()=>_(u)},[d?(r(),i(b,{key:0},[e("div",et,[e("img",{class:"w-full xs:w-24 aspect-square",src:(f=s(t)[u])==null?void 0:f.character.portraitImg,alt:""},null,8,at),e("div",st,[e("div",ct,[(r(!0),i(b,null,y(Array((v=s(t)[u])==null?void 0:v.character.rarity).fill(0),k=>(r(),$(n,{key:k,icon:s(M)},null,8,["icon"]))),128))]),e("div",nt,[(r(!0),i(b,null,y(Array(3),k=>(r(),i("div",{key:k,class:"h-8 w-8 border-2 border-primary-500 bg-error-500"},h(k),1))),128))])])]),e("div",rt,[e("p",lt,h((w=s(t)[u])==null?void 0:w.character.name),1),e("p",ot,h((C=s(t)[u])==null?void 0:C.character.lvl),1)])],64)):(r(),i("div",it,[e("div",dt,[m(n,{class:"text-4xl xs:text-6xl",icon:s(H)},null,8,["icon"])])]))],10,tt)])}),128))])}}});const _t={key:0,class:"absolute top-0 left-0 w-screen min-h-screen h-screen grid place-items-center bg-primary-500/50 p-4"},mt={class:"bg-black-700 rounded px-4 pb-8 h-full overflow-y-auto max-w-screen-lg w-full"},pt=e("p",null,"Hello from the modal!",-1),ft=g({__name:"BaseModal",setup(p){const t=T("is-open-modal",()=>!1);return(c,l)=>(r(),$(V,{to:"body"},[s(t)?(r(),i("div",_t,[e("div",mt,[pt,e("button",{class:"fixed right-4 top-4",onClick:l[0]||(l[0]=_=>t.value=!1)}," Close "),O(c.$slots,"default")])])):x("",!0)]))}}),ht=["value"],bt={class:"grow py-0.5"},xt={key:0,class:"absolute top-8 left-0 z-50 bg-black-600 rounded w-full overflow-hidden"},gt=["onClick"],F=g({__name:"BaseSelect",props:{options:{},handler:{type:Function},value:{}},setup(p){const t=p,c=R(!1),l=R(null);J(l,()=>{c.value&&(c.value=!1)});const _=t.options===void 0?[]:t.options.map(a=>typeof a=="string"?{value:a,label:a}:{value:a[0],label:a[1]}),o=a=>{var n;return a&&((n=_.find(d=>d.value===a))==null?void 0:n.label)};return(a,n)=>{const d=I;return r(),i("div",{ref_key:"container",ref:l,class:"flex select-none w-full h-7 items-center relative bg-black-600 rounded px-2 py-1 cursor-pointer",onClick:n[0]||(n[0]=u=>c.value=!s(c))},[e("input",{type:"hidden",value:a.value},null,8,ht),e("div",bt,h(o(a.value)),1),m(d,{class:"w-4",icon:s(Q)},null,8,["icon"]),s(c)?(r(),i("ul",xt,[(r(!0),i(b,null,y(s(_),u=>(r(),i("li",{key:u.value,class:S([{"bg-primary-700 text-black-700":a.value===u.value,"hover:bg-black-500":a.value!==u.value},"py-1 px-2 my-1"]),onClick:()=>a.handler?a.handler(u.value):()=>{}},h(u.label),11,gt))),128))])):x("",!0)],512)}}}),vt={key:0,class:"text-primary-500 grid md:grid-cols-2 xl:grid-cols-3 gap-10 rounded max-xs:bg-black-500 max-xs:p-4"},yt={class:"flex gap-3 grow justify-center items-center"},$t={class:"aspect-square base-background-gradient flex-wrap"},wt=["src"],kt={class:"grow flex flex-col gap-2"},St={class:"font-medium text-xs flex gap-2 items-center my-1"},Ct={class:"flex gap-3 grow justify-center"},jt=e("div",{class:"h-full aspect-square base-background-gradient flex-wrap"},null,-1),At={class:"grow flex flex-col gap-2"},Et={class:"grid grid-cols-3 justify-items-center place-items-center"},Bt={class:"font-medium text-xs flex gap-2 items-center my-1"},Tt=e("hr",{class:"border-r h-3/4 border-r-primary-500"},null,-1),Rt={class:"font-medium text-xs flex gap-2 items-center my-1"},Dt=g({__name:"SimulatorCharactersCharacter",setup(p){const{state:t,active:c,setCharacter:l}=A(),_=T("is-open-modal"),o=["1/20","20","20/40","40","40/50","50","50/60","60","60/70","70","70/80","80","80/90","90/90"];return(a,n)=>{var w,C,k;const d=G,u=ft,f=F,v=I;return r(),i(b,null,[m(u,null,{default:L(()=>[m(d,{handler:async E=>{await s(l)(E),_.value=!1}},null,8,["handler"])]),_:1}),s(c)!==null?(r(),i("div",vt,[e("div",yt,[e("div",$t,[e("img",{class:"h-32",src:(w=s(t)[s(c)])==null?void 0:w.character.portraitImg,alt:""},null,8,wt)]),e("div",kt,[m(f,{class:"font-medium text-xs",value:s(t)[s(c)].character.name,onClick:n[0]||(n[0]=E=>_.value=!0)},null,8,["value"]),m(f,{value:(C=s(t)[s(c)])==null?void 0:C.character.lvl,options:o,handler:E=>{s(c)!==null&&(s(t)[s(c)].character.lvl=E)},class:"font-medium text-xs"},null,8,["value","handler"]),m(f,{class:"font-medium text-xs"}),e("p",St,[m(v,{class:"text-black-100",height:"1.5em",icon:s(D)},null,8,["icon"]),B(" "+h((k=s(t)[s(c)])==null?void 0:k.character.substat),1)])])]),e("div",Ct,[jt,e("div",At,[m(f,{class:"font-medium text-xs"}),m(f,{class:"font-medium text-xs"}),m(f,{class:"font-medium text-xs"}),e("div",Et,[e("p",Bt,[m(v,{class:"text-black-100",height:"1.5em",icon:s(D)},null,8,["icon"]),B(" "+h("xx"))]),Tt,e("p",Rt,[m(v,{class:"text-black-100",height:"1.5em",icon:s(D)},null,8,["icon"]),B(" "+h("yy"))])])])])])):x("",!0)],64)}}}),It={key:0,class:"grid lg:grid-cols-2 gap-4 justify-center"},Nt={class:"max-w-lg"},qt={class:"w-full flex justify-center items-center mb-6 gap-2 xs:gap-4"},Pt=["onClick"],zt={class:"my-4 grid grid-cols-1 xs:grid-cols-2 xs:grid-flow-col xs:grid-rows-2 gap-x-12 gap-y-3 text-primary-500 font-bold"},Ft=e("h2",{class:"uppercase xs:hidden"}," Main Stats ",-1),Ot={class:"font-medium capitalize text-sm xs:text-xs text-black-100 w-24",for:"artifactsSet"},Vt={class:"my-4 grid grid-cols-1 xs:hidden gap-x-12 gap-y-3 text-primary-500 font-bold"},Lt=e("h2",{class:"uppercase xs:hidden"}," Sub Stats ",-1),Mt={class:"grid grid-cols-2 gap-x-4 gap-y-2"},Ht=P('<aside class="lg:col-start-2 lg:row-span-2 max-w-lg"><section><h2 class="text-primary-500 font-bold"> Set Bonus </h2><div class="mb-4 mt-2"><h3 class="text-sm text-primary-500 font-bold"> Furia el Trueno (2) </h3><p class="text-justify text-xs"> Bono de Da√±o Electro +15% </p></div><div><h3 class="text-sm text-primary-500 font-bold"> Ritual de la antigua Nobleza (2) </h3><p class="text-justify text-xs"> Cuando el personaje que equipa este conjunto de artefactos cura a otro, crea el efecto de &quot;burbuja marina‚Äù durante 3 s, el cual registra la cantidad de Vida regenerada (incluida la regenerada por encima del 100%). Tras ello, la burbuja marina estalla e inflige contra los enemigos cercanos un da√±o basado en el 90% de la cantidad regenerada. Este da√±o se calcula de manera similar al de las reacciones de Electrocargado, Superconductor, etc., pero no var√≠a en funci√≥n de la Maestr√≠a Elemental, el nivel del personaje o el bono de da√±o de las reacciones. Solo se puede crear una burbuja marina cada 3.5 s, la cual solo puede registrar un m√°ximo de 30 000 pts. de Vida regenerada, incluyendo la regenerada por encima del 100%. Adem√°s, solo puede existir una burbuja marina en tu equipo al mismo tiempo. Cuando el personaje que equipa este conjunto de artefactos est√° en el equipo pero no en combate, tambi√©n podr√° activar este efecto. </p></div></section></aside>',1),Qt=g({__name:"SimulatorCharactersArtifacts",setup(p){const t=["Set","Lvl","Rarity","Stat Principal"],{state:c,active:l}=A();return(_,o)=>{var n;const a=F;return s(l)!==null?(r(),i("div",It,[e("main",Nt,[e("header",qt,[(r(!0),i(b,null,y((n=s(c)[s(l)])==null?void 0:n.artifacts,(d,u)=>{var f;return r(),i("button",{key:u,class:S(["w-full xs:w-20 aspect-square base-background-gradient",{"border-2 border-primary-500":((f=s(c)[s(l)])==null?void 0:f.ui.selectedArtifact)===u}]),onClick:v=>s(c)[s(l)].ui.selectedArtifact=u},null,10,Pt)}),128))]),e("section",zt,[Ft,(r(),i(b,null,y(t,d=>e("div",{key:d,class:"flex items-center justify-between gap-2"},[e("label",Ot,h(d),1),m(a,{class:"bg-black-600 px-2 py-1 capitalize font-medium rounded text-xs"})])),64))]),e("section",Vt,[Lt,e("div",Mt,[(r(),i(b,null,y(t,d=>e("div",{key:d,class:"flex items-center justify-between gap-2"},[m(a,{class:"bg-black-600 px-2 py-1 capitalize font-medium rounded text-xs"})])),64))])])]),Ht])):x("",!0)}}}),Gt={class:"bg-black-400 pb-2 text-[0.6rem]"},Jt={class:"text-left w-full text-xs"},Kt={class:"text-primary-500 uppercase"},Wt={colspan:"2",scope:"overflow",class:"px-6 py-2 text-center w-full"},Xt={scope:"row",class:"px-4 py-1 font-normal text-black-100 whitespace-nowrap"},Yt={class:"px-4 py-1 text-primary-500 text-right"},Ut=g({__name:"SimulatorCharactersStatsTable",props:{table:{}},setup(p){return(t,c)=>(r(),i("div",Gt,[e("table",Jt,[e("thead",Kt,[e("tr",null,[e("th",Wt,h(t.table.title),1)])]),e("tbody",null,[(r(!0),i(b,null,y(t.table.rows,(l,_)=>(r(),i("tr",{key:l[0],class:S({"bg-black-600":_%2===0})},[e("th",Xt,h(l[0]),1),e("td",Yt,h(l[1]),1)],2))),128))])])]))}}),Zt={class:"flex gap-4 items-start flex-wrap max-w-3xl m-auto"},te={class:"flex grow flex-col gap-4"},ee={class:"grow"},ae=g({__name:"SimulatorCharactersStats",setup(p){const{state:t,active:c}=A(),l=t.value[c.value].stats,_={title:"Atributos B√°sicos",rows:[["Vida M√°x",l.hp],["ATQ",l.atk],["DEF",l.def],["MAESTR√çA ELEMENTAL",0]]},o={title:"Atributos Avanzados",rows:[["Prob.CRIT.",`${l.critRate*100}%`],["Da√±o CRIT",`${l.critDmg*100}%`],["Bono de Curaci√≥n",0],["Recarga de Energ√≠a","100%"],["Disminuci√≥n de Tde",0],["Protecci√≥n de Escudo",0]]},a={title:"Atributos Avanzados",rows:[["Bono de Da√±o (Elemento).","0%"],["Res Elemento","0%"]]};return(n,d)=>{const u=Ut;return r(),i("div",Zt,[e("div",te,[m(u,{table:_}),m(u,{table:a})]),e("div",ee,[m(u,{table:o})])])}}}),se=e("hr",{class:"border border-t-2 border-b-0 border-primary-500 w-full my-4"},null,-1),ce={key:0,class:"flex gap-x-8 flex-col lg:flex-row"},ne={class:"min-w-[8rem]"},re={class:"grow"},le=g({__name:"SimulatorCharacters",setup(p){const{state:t,active:c}=A(),_=K(W).greater("lg"),o=R([{title:"CHARACTER",state:"active"},{title:"ARTIFACTS",state:"inactive"},{title:"STATS",state:"inactive"}]);return(a,n)=>{const d=ut,u=z,f=Dt,v=Qt,w=ae;return r(),i(b,null,[m(d),se,s(c)!==null&&s(t)[s(c)]?(r(),i("div",ce,[e("aside",ne,[m(u,{class:"mb-4",buttons:s(o),column:s(_)},null,8,["buttons","column"])]),e("div",re,[s(o)[0].state==="active"?(r(),$(f,{key:0,class:"grow"})):x("",!0),s(o)[1].state==="active"?(r(),$(v,{key:1,class:"grow"})):x("",!0),s(o)[2].state==="active"?(r(),$(w,{key:2,class:"grow"})):x("",!0)])])):x("",!0)],64)}}}),oe={};function ie(p,t){return r(),i("div")}const de=j(oe,[["render",ie]]),ue={},_e={class:"grid grid-cols-3 p-2 gap-4"},me=e("div",{class:"bg-primary-500 w-6 h-8 grid place-items-center"}," a ",-1),pe=e("div",{class:"font-bold texl-xl text-black-100 grid place-items-center"}," 2 ",-1),fe=e("div",{class:"bg-primary-500 w-6 h-8 grid place-items-center"}," 3 ",-1),he=[me,pe,fe];function be(p,t){return r(),i("div",_e,he)}const xe=j(ue,[["render",be]]);const ge={},ve={class:"w-full bg-error-500"},ye={class:"flex justify-center items-start gap-10"},$e=e("p",null,"Listado",-1),we={class:"base-background-gradient flex"},ke=P('<div class="flex flex-col justify-start"><p class="text-black-100 text-sm font-bold capitalize text-titulo-border"> Shouki no Kami, the Prodigal </p><p class="flex items-baseline gap-1"><span class="text-primary-500 text-sm text-center text-sub-titulo-border"> LV. </span><span class="text-black-100 font-bold text-center text-border"> 90 </span><span class="text-primary-500 font-bold text-center text-border"> /90 </span></p></div>',1),Se={class:"flex items-end"};function Ce(p,t){const c=de,l=xe;return r(),i("div",ve,[B(" asd "),e("div",ye,[$e,m(c),m(c)]),e("div",we,[ke,e("div",Se,[m(l)])])])}const je=j(ge,[["render",Ce]]),Ae={};function Ee(p,t){const c=je;return r(),$(c)}const Be=j(Ae,[["render",Ee]]),Te={};function Re(p,t){return" Rotation "}const De=j(Te,[["render",Re]]),Ie={class:"p-4"},Oe=g({__name:"simulator",setup(p){const t=R([{title:"PERSONAJES",state:"active"},{title:"ENEMIGOS",state:"inactive"},{title:"ROTACI√ìN",state:"inactive"}]);return(c,l)=>{const _=z,o=le,a=Be,n=De;return r(),i("div",Ie,[m(_,{class:"my-4",buttons:s(t)},null,8,["buttons"]),s(t)[0].state==="active"?(r(),$(o,{key:0})):x("",!0),s(t)[1].state==="active"?(r(),$(a,{key:1})):x("",!0),s(t)[2].state==="active"?(r(),$(n,{key:2})):x("",!0)])}}});export{Oe as default};
